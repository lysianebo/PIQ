{
    "sourceFile": "controllers/sauces.js",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1679410435648,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1679410466047,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,22 +4,22 @@\n console.log(\"controller stuff\");\n \n \n exports.createSauce = (req, res, next) => {\n-  const thingObject = JSON.parse(req.body.thing)\n-  delete thingObject._id\n-  const thing = new Sauce({\n-    ...thingObject,\n+  const sauceObject = JSON.parse(req.body.sauce)\n+  delete sauceObject._id\n+  const sauce = new Sauce({\n+    ...sauceObject,\n     imageUrl: `${req.protocol}://${req.get('host')}/images/${req.file.filename}`\n   })\n-  // const thing = new Sauce({\n+  // const sauce = new Sauce({\n   //   title: req.body.title,\n   //   description: req.body.description,\n   //   imageUrl: req.body.imageUrl,\n   //   price: req.body.price,\n   //   userId: req.body.userId\n   // });\n-  thing.save().then(\n+  sauce.save().then(\n     () => {\n       res.status(201).json({\n         message: 'Post saved successfully!'\n       });\n@@ -36,10 +36,10 @@\n exports.getOneSauce = (req, res, next) => {\n   Sauce.findOne({\n     _id: req.params.id\n   }).then(\n-    (thing) => {\n-      res.status(200).json(thing);\n+    (sauce) => {\n+      res.status(200).json(sauce);\n     }\n   ).catch(\n     (error) => {\n       res.status(404).json({\n@@ -49,23 +49,23 @@\n   );\n };\n \n exports.modifySauce = (req, res, next) => {\n-  const thingObject = req.file \n+  const sauceObject = req.file \n     ? {\n-      ...JSON.parse(req.body.thing), \n+      ...JSON.parse(req.body.sauce), \n       imageUrl: `${req.protocol}://${req.get('host')}/images/${req.file.filename}`\n     }\n     : {...req.body}\n-  // const thing = new Sauce({\n+  // const sauce = new Sauce({\n   //   _id: req.params.id,\n   //   title: req.body.title,\n   //   description: req.body.description,\n   //   imageUrl: req.body.imageUrl,\n   //   price: req.body.price,\n   //   userId: req.body.userId\n   // });\n-  Sauce.updateOne({_id: req.params.id}, {...thingObject, _id: req.params.id}).then(\n+  Sauce.updateOne({_id: req.params.id}, {...sauceObject, _id: req.params.id}).then(\n     () => {\n       res.status(201).json({\n         message: 'Sauce updated successfully!'\n       });\n@@ -80,24 +80,24 @@\n };\n \n exports.deleteSauce = (req, res, next) => {\n     Sauce.findOne({ _id: req.params.id }).then(\n-        (thing) => {\n-            if (!thing) {\n-                console.log(\"error, no 'thing' have been returned\");\n+        (sauce) => {\n+            if (!sauce) {\n+                console.log(\"error, no 'sauce' have been returned\");\n                 res.status(404).json({\n                     error: new Error('No such Sauce!')\n                 });\n             }\n-            else if (thing.userId !== req.auth.userId) {\n-                console.log(\"error, userId doesn't match\\nthing.userId: \"+thing.userId+\" --- req.auth.userId: \"+req.auth.userId);\n+            else if (sauce.userId !== req.auth.userId) {\n+                console.log(\"error, userId doesn't match\\nsauce.userId: \"+sauce.userId+\" --- req.auth.userId: \"+req.auth.userId);\n                 res.status(400).json({\n                     error: new Error('Unauthorized request!')\n                 });\n             }\n             else{\n-                console.log(\"oh heyn its good, it did match!\\nthing.userId: \"+thing.userId+\" --- req.auth.userId: \"+req.auth.userId);\n-                const filename = thing.imageUrl.split('/images/')[1];\n+                console.log(\"oh heyn its good, it did match!\\nsauce.userId: \"+sauce.userId+\" --- req.auth.userId: \"+req.auth.userId);\n+                const filename = sauce.imageUrl.split('/images/')[1];\n                 fs.unlink(`images/${filename}`, () => {\n                   Sauce.deleteOne({ _id: req.params.id })\n                     .then(\n                         () => {\n@@ -120,10 +120,10 @@\n \n exports.getAllStuff = (req, res, next) => {\n   console.log(\"all stuff\");\n   Sauce.find().then(\n-    (things) => {\n-      res.status(200).json(things);\n+    (sauces) => {\n+      res.status(200).json(sauces);\n     }\n   ).catch(\n     (error) => {\n       res.status(400).json({\n"
                },
                {
                    "date": 1679412821659,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,8 @@\n const fs = require('fs');\n const Sauce = require('../models/Sauce');\n \n-console.log(\"controller stuff\");\n+console.log(\"controller sauces\");\n \n \n exports.createSauce = (req, res, next) => {\n   const sauceObject = JSON.parse(req.body.sauce)\n@@ -118,9 +118,9 @@\n     )\n };\n \n exports.getAllStuff = (req, res, next) => {\n-  console.log(\"all stuff\");\n+  console.log(\"all sauces\");\n   Sauce.find().then(\n     (sauces) => {\n       res.status(200).json(sauces);\n     }\n"
                },
                {
                    "date": 1679412830502,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -117,9 +117,9 @@\n         }\n     )\n };\n \n-exports.getAllStuff = (req, res, next) => {\n+exports.getAll = (req, res, next) => {\n   console.log(\"all sauces\");\n   Sauce.find().then(\n     (sauces) => {\n       res.status(200).json(sauces);\n"
                }
            ],
            "date": 1679410435648,
            "name": "Commit-0",
            "content": "const fs = require('fs');\nconst Sauce = require('../models/Sauce');\n\nconsole.log(\"controller stuff\");\n\n\nexports.createSauce = (req, res, next) => {\n  const thingObject = JSON.parse(req.body.thing)\n  delete thingObject._id\n  const thing = new Sauce({\n    ...thingObject,\n    imageUrl: `${req.protocol}://${req.get('host')}/images/${req.file.filename}`\n  })\n  // const thing = new Sauce({\n  //   title: req.body.title,\n  //   description: req.body.description,\n  //   imageUrl: req.body.imageUrl,\n  //   price: req.body.price,\n  //   userId: req.body.userId\n  // });\n  thing.save().then(\n    () => {\n      res.status(201).json({\n        message: 'Post saved successfully!'\n      });\n    }\n  ).catch(\n    (error) => {\n      res.status(400).json({\n        error: error\n      })\n    }\n  )\n}\n\nexports.getOneSauce = (req, res, next) => {\n  Sauce.findOne({\n    _id: req.params.id\n  }).then(\n    (thing) => {\n      res.status(200).json(thing);\n    }\n  ).catch(\n    (error) => {\n      res.status(404).json({\n        error: error\n      });\n    }\n  );\n};\n\nexports.modifySauce = (req, res, next) => {\n  const thingObject = req.file \n    ? {\n      ...JSON.parse(req.body.thing), \n      imageUrl: `${req.protocol}://${req.get('host')}/images/${req.file.filename}`\n    }\n    : {...req.body}\n  // const thing = new Sauce({\n  //   _id: req.params.id,\n  //   title: req.body.title,\n  //   description: req.body.description,\n  //   imageUrl: req.body.imageUrl,\n  //   price: req.body.price,\n  //   userId: req.body.userId\n  // });\n  Sauce.updateOne({_id: req.params.id}, {...thingObject, _id: req.params.id}).then(\n    () => {\n      res.status(201).json({\n        message: 'Sauce updated successfully!'\n      });\n    }\n  ).catch(\n    (error) => {\n      res.status(400).json({\n        error: error\n      });\n    }\n  );\n};\n\nexports.deleteSauce = (req, res, next) => {\n    Sauce.findOne({ _id: req.params.id }).then(\n        (thing) => {\n            if (!thing) {\n                console.log(\"error, no 'thing' have been returned\");\n                res.status(404).json({\n                    error: new Error('No such Sauce!')\n                });\n            }\n            else if (thing.userId !== req.auth.userId) {\n                console.log(\"error, userId doesn't match\\nthing.userId: \"+thing.userId+\" --- req.auth.userId: \"+req.auth.userId);\n                res.status(400).json({\n                    error: new Error('Unauthorized request!')\n                });\n            }\n            else{\n                console.log(\"oh heyn its good, it did match!\\nthing.userId: \"+thing.userId+\" --- req.auth.userId: \"+req.auth.userId);\n                const filename = thing.imageUrl.split('/images/')[1];\n                fs.unlink(`images/${filename}`, () => {\n                  Sauce.deleteOne({ _id: req.params.id })\n                    .then(\n                        () => {\n                            res.status(200).json({\n                                message: 'Deleted!'\n                            });\n                        }\n                    ).catch(\n                        (error) => {\n                            res.status(400).json({\n                                error: error\n                            });\n                        }\n                    );\n                })\n            }\n        }\n    )\n};\n\nexports.getAllStuff = (req, res, next) => {\n  console.log(\"all stuff\");\n  Sauce.find().then(\n    (things) => {\n      res.status(200).json(things);\n    }\n  ).catch(\n    (error) => {\n      res.status(400).json({\n        error: error\n      });\n    }\n  );\n};"
        }
    ]
}